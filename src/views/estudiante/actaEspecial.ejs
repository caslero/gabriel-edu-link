<div class="max-w-4xl mx-auto mt-10 bg-white rounded-lg shadow-lg p-8">
  <h2 class="text-2xl font-bold mb-4 text-blue-700">Formulario de Acta Especial</h2>

  <!-- Formulario de creaciÃ³n -->
  <form enctype="multipart/form-data" class="bg-gray-50 p-6 rounded shadow space-y-4">
    <div>
      <label for="materia" class="block font-semibold">Materia</label>
      <input type="text" id="materia" name="materia" class="w-full border p-2 rounded" required />
    </div>

    <div>
      <label for="docente" class="block font-semibold">Docente responsable</label>
      <input type="text" id="docente" name="docente" class="w-full border p-2 rounded" required />
    </div>

    <div>
      <label for="motivo" class="block font-semibold">Motivo de la solicitud</label>
      <textarea id="motivo" name="motivo" rows="4" class="w-full border p-2 rounded" required></textarea>
    </div>


    <button type="submit" class="bg-blue-700 text-white px-4 py-2 rounded hover:bg-gradient-to-r from-cyan-200 to-blue-500 to-blue-700 transition">
      Enviar solicitud
    </button>
  </form>

  <!-- Tabla de solicitudes del estudiante -->
  <div class="mt-10">
    <h3 class="text-lg font-semibold text-blue-700 mb-4">Mis solicitudes</h3>
    <table class="min-w-full border border-gray-200 rounded-lg shadow-sm">
      <thead class="bg-blue-600 text-white">
        <tr>
          <th class="px-4 py-2 text-left">ID</th>
          <th class="px-4 py-2 text-left">Materia</th>
          <th class="px-4 py-2 text-left">Docente</th>
          <th class="px-4 py-2 text-left">Motivo</th>
          <th class="px-4 py-2 text-left">Estado</th>
          <th class="px-4 py-2 text-left">Fecha</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-200"> 
        <% if (!actas || actas.length === 0) { %>
          <tr>
            <td colspan="6" class="text-center py-6 text-gray-500">
              No has registrado solicitudes.
            </td>
          </tr>
        <% } else { %>
          <% actas.forEach(acta => { %>
            <tr>
              <td class="px-4 py-2"><%= acta.id %></td>
              <td class="px-4 py-2"><%= acta.materia %></td>
              <td class="px-4 py-2"><%= acta.docente %></td>
              <td class="px-4 py-2"><%= acta.motivo %></td>
              <td class="px-4 py-2">
                <span class="px-3 py-1 rounded-full text-sm 
                  <%= acta.estado === 'AprobadaDocente' ? 'bg-green-100 text-green-700' : 
                      acta.estado === 'RechazadaDocente' ? 'bg-red-100 text-red-700' : 
                      'bg-yellow-100 text-yellow-700' %>">
                  <%= acta.estado %>
                </span>
              </td>
              <td class="px-4 py-2"><%= acta.creado_en %></td>
            </tr>
          <% }) %>
        <% } %>
      </tbody>
    </table>
  </div>
</div>

<script>
  document.querySelector("form").addEventListener("submit", function (e) {
    const materia = document.getElementById("materia").value.trim();
    const docente = document.getElementById("docente").value.trim();
    const motivo = document.getElementById("motivo").value.trim();

    if (!materia || !docente || !motivo) {
      e.preventDefault();
      alert("Por favor completa todos los campos obligatorios.");
    }
  });
</script>