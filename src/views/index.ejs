
<!-- Carrusel de bienvenida -->
<div class="relative w-full mb-10 overflow-hidden">
  <div class="flex transition-transform duration-500 ease-out" id="carousel-slides">
    
    <div class="w-[80%] md:w-[70%] flex-shrink-0 px-2 opacity-40 scale-95 transition-all duration-500">
      <img src="/img/carruselle/img 5-Encuestas.png" class="w-full h-auto max-h-[710px] object-contain bg-gray-100 rounded-lg">
    </div>

    <div class="w-[80%] md:w-[70%] flex-shrink-0 px-2 opacity-100 scale-100 transition-all duration-500">
      <img src="/../img/carruselle/img 1-bienvenida.png" class="w-full h-auto max-h-[710px] object-contain bg-gray-100 rounded-lg shadow-lg">
    </div>

    <div class="w-[80%] md:w-[70%] flex-shrink-0 px-2 opacity-40 scale-95 transition-all duration-500">
      <img src="/img/carruselle/img 2-solicitud de inscripcion.png" class="w-full h-auto max-h-[710px] object-contain bg-gray-100 rounded-lg shadow-lg">
    </div>

    <div class="w-[80%] md:w-[70%] flex-shrink-0 px-2 opacity-40 scale-95 transition-all duration-500">
      <img src="/img/carruselle/img 3-Adicion y Retiro.png" class="w-full h-auto max-h-[710px] object-contain bg-gray-100 rounded-lg shadow-lg">
    </div>

    <div class="w-[80%] md:w-[70%] flex-shrink-0 px-2 opacity-40 scale-95 transition-all duration-500">
      <img src="/img/carruselle/img 4-Actas Especiales.png" class="w-full h-auto max-h-[710px] object-contain bg-gray-100 rounded-lg shadow-lg">
    </div>

    <div class="w-[80%] md:w-[70%] flex-shrink-0 px-2 opacity-40 scale-95 transition-all duration-500">
      <img src="/img/carruselle/img 5-Encuestas.png" class="w-full h-auto max-h-[710px] object-contain bg-gray-100 rounded-lg shadow-lg">
    </div>

    <div class="w-[80%] md:w-[70%] flex-shrink-0 px-2 opacity-40 scale-95 transition-all duration-500">
      <img src="/../img/carruselle/img 1-bienvenida.png" class="w-full h-auto max-h-[710px] object-contain bg-gray-100 rounded-lg">
    </div>

  </div>

  <button onclick="moveSlide(-1)" class="absolute top-1/2 left-4 z-20 -translate-y-1/2 bg-white/90 p-3 rounded-full shadow-xl">◀</button>
  <button onclick="moveSlide(1)" class="absolute top-1/2 right-4 z-20 -translate-y-1/2 bg-white/90 p-3 rounded-full shadow-xl">▶</button>
</div>
<!-- Sección de tarjetas -->

<h2 class="text-3xl font-bold text-blue-900 mb-6">Realiza tus gestiones con nosotros</h2>


<!-- Tarjetas -->
<div class="grid grid-cols-1 md:grid-cols-4 gap-6">
  <!-- Tarjeta 1 -->
  <div class="bg-white shadow-md rounded-lg p-6 hover:scale-105 hover:shadow-xl transition transform">
    <div class="mb-4">
      <img src="/img/inscripcion.jpg" alt="Solicitud de inscripción" class="w-full h-40 object-cover rounded-md">
    </div>
    <h3 class="text-xl font-semibold text-blue-800 mb-2">Solicitud de Inscripción</h3>
    <p class="text-gray-600 mb-4">Realiza tu inscripción en línea de manera rápida y segura.</p>
    <a href="/estudiante/inscripcion" class="inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-gradient-to-r from-cyan-200 to-blue-500 to-blue-700 transition">Inscribirme</a>
  </div>

  <!-- Tarjeta 2 -->
  <div class="bg-white shadow-md rounded-lg p-6 hover:scale-105 hover:shadow-xl transition transform">
    <div class="mb-4">
      <img src="/img/adicion y retiro.jpg" alt="Adición y retiro de materias" class="w-full h-40 object-cover rounded-md">
    </div>
    <h3 class="text-xl font-semibold text-blue-800 mb-7">Adición y Retiro</h3>
    <p class="text-gray-600 mb-4">Gestiona la adición y retiro de tus materias sin filas.</p>
    <a href="/estudiante/adicion-retiro" class="inline-block mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-gradient-to-r from-cyan-200 to-blue-500 to-blue-700 transition">Gestionar</a>
  </div>

  <!-- Tarjeta 3 -->
  <div class="bg-white shadow-md rounded-lg p-6 hover:scale-105 hover:shadow-xl transition transform">
    <div class="mb-4">
      <img src="/img/actas especiales.jpg"" alt="Solicitud de actas especiales" class="w-full h-40 object-cover rounded-md">
    </div>
    <h3 class="text-xl font-semibold text-blue-800 mb-7">Actas Especiales</h3>
    <p class="text-gray-600 mb-4">Solicita actas especiales de manera digital y simplificada.</p>
    <a href="/estudiante/acta-especial" class="inline-block mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-gradient-to-r from-cyan-200 to-blue-500 to-blue-700 transition">Solicitar</a>
  </div>

  <!-- Tarjeta 4 -->
  <div class="bg-white shadow-md rounded-lg p-6 hover:scale-105 hover:shadow-xl transition transform">
    <div class="mb-4">
      <img src="/img/encuestas.jpg" alt="Encuestas académicas" class="w-full h-40 object-cover rounded-md">
    </div>
    <h3 class="text-xl font-semibold text-blue-800 mb-2">Encuestas</h3>
    <p class="text-gray-600 mb-4">Participa en encuestas para habilitar materias y mejorar la gestión académica.</p>
    <a href="/estudiante/encuestas" class="inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-gradient-to-r from-cyan-200 to-blue-500 to-blue-700 transition">Responder</a>
  </div>
</div>


<!-- Script carrusel -->
<script>
const container = document.getElementById('carousel-slides');
const slides = Array.from(container.children);
let currentIndex = 1; 
let isTransitioning = false;
let autoPlayInterval; // Variable para controlar el tiempo

function updateCarousel(animate = true) {
    const slideWidth = slides[0].offsetWidth;
    // Usamos el ancho del contenedor padre para mejor precisión responsiva
    const containerWidth = container.parentElement.offsetWidth;
    const centerOffset = (containerWidth - slideWidth) / 2;
    const transformValue = - (currentIndex * slideWidth) + centerOffset;

    container.style.transition = animate ? "transform 0.5s ease-out" : "none";
    container.style.transform = `translateX(${transformValue}px)`;

    slides.forEach((slide, i) => {
        slide.style.opacity = (i === currentIndex) ? "1" : "0.4";
        slide.style.transform = (i === currentIndex) ? "scale(1)" : "scale(0.95)";
    });
}

function moveSlide(step) {
    if (isTransitioning) return;
    resetAutoPlay(); // Reiniciar el contador cuando el usuario hace clic manualmente
    isTransitioning = true;
    currentIndex += step;
    updateCarousel(true);
}

// Lógica de cambio automático
function startAutoPlay() {
    autoPlayInterval = setInterval(() => {
        moveSlide(1);
    }, 4000); // Cambia cada 4 segundos
}

function resetAutoPlay() {
    clearInterval(autoPlayInterval);
    startAutoPlay();
}

// Detener el auto-play si el mouse está encima (opcional pero recomendado)
container.parentElement.addEventListener('mouseenter', () => clearInterval(autoPlayInterval));
container.parentElement.addEventListener('mouseleave', () => startAutoPlay());

container.addEventListener('transitionend', () => {
    isTransitioning = false;
    
    if (currentIndex === slides.length - 1) {
        currentIndex = 1;
        updateCarousel(false);
    }
    if (currentIndex === 0) {
        currentIndex = slides.length - 2;
        updateCarousel(false);
    }
});

window.addEventListener('resize', () => updateCarousel(false));
window.onload = () => {
    updateCarousel(false);
    startAutoPlay(); // Iniciar al cargar
};
</script>